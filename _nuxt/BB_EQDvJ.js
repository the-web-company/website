import{_ as S}from"./BSbKPbIV.js";import{u as q}from"./D4M8aNkp.js";import{q as u}from"./BSdFNMPe.js";import{_ as k}from"./7I_tdKhT.js";import{d as j,c as n,e as r,f as t,t as o,h as x,B as v,r as h,C as $,D as a,F as D,E as C,g as N,G as A,n as E}from"./Cw_3h4RR.js";import"./BShybf30.js";import"./B5asTwua.js";import"./DXcN503W.js";import"./CAZilBRX.js";import"./DlAUqK2U.js";import"./D600Oznl.js";import"./DOt71yXg.js";const F={class:"flex flex-col-reverse justify-between sm:flex-row gap-2 sm:gap-8"},I={class:"flex flex-col justify-between sm:w-1/2"},O={class:"flex justify-between items-center gap-x-4 text-sm"},U={class:"capitalize rounded-md text-nowrap text-xs bg-purple-900 px-2 py-1.5 text-purple-100 hover:bg-purple-900"},G=["datetime"],H={class:"mt-4 text-lg font-semibold group-hover:text-purple-300"},L=["href"],R={class:"mt-2 text-sm text-purple-300 line-clamp-5"},J={class:"mt-5 flex border-t border-purple-600 pt-5"},K={class:"sm:w-1/2"},M=["href"],Q=["src"],T=j({__name:"DlHighlight",props:{post:{type:Object,required:!0}},setup(l){return(s,i)=>(n(),r("article",F,[t("div",I,[t("div",null,[t("div",O,[t("button",U,o(l.post.category),1),t("time",{datetime:l.post.pubDate,class:"text-purple-300 text-nowrap"},o(new Date(l.post.pubDate).toDateString()),9,G)]),t("h3",H,[t("a",{href:l.post._path},o(l.post.title),9,L)]),t("p",R,o(l.post.description),1)]),t("div",J,[x(k,{post:l.post},null,8,["post"])])]),t("div",K,[t("a",{href:l.post._path},[t("img",{src:l.post.featuredImage,alt:"post featured image",class:"w-full rounded-md object-cover h-80"},null,8,Q)],8,M)])]))}}),W={class:"max-w-screen-2xl mx-auto px-4 3xl:px-0 py-14"},X={class:"text-3xl sm:text-4xl xl:text-5xl"},Y={class:"mt-2 text-lg text-purple-400"},Z={key:0,class:"mt-4"},tt={class:"flex gap-4"},et=["onClick"],st={class:"my-10 bg-purple-800 rounded-md p-2"},ot={class:"grid grid-cols-1 xl:grid-cols-2 gap-x-8 gap-y-10 sm:gap-y-20"},lt=["href"],at=["src"],it={class:"sm:col-span-2 h-full max-h-80 flex flex-col justify-between space-y-5"},nt={class:"flex justify-between items-center gap-x-4 text-sm"},rt=["onClick"],ct=["datetime"],pt=["href"],dt={class:"mt-4 text-lg font-semibold"},ut={class:"mt-2 text-sm text-purple-400 line-clamp-5"},mt={class:"flex border-t border-purple-700 pt-5"},_t={class:"flex justify-center mt-20"},m=10,jt=j({__name:"blog",async setup(l){let s,i;const{data:b}=([s,i]=v(()=>q("blog",()=>u("/blog").findOne())),s=await s,i(),s),c=h(1),_=h(!1),p=h("all"),V=([s,i]=v(()=>u("/posts").count()),s=await s,i(),s),z=new Set(([s,i]=v(()=>u("/posts").where({published:!0}).find()),s=await s,i(),s).map(w=>w.category));let d=h([]);f(),$(c,()=>{f()});async function f(){_.value=!0,d.value=await u("/posts").where({published:!0}).sort({pubDate:-1}).skip((c.value-1)*m).limit(m).find(),_.value=!1}return $(p,async()=>{if(_.value=!0,p.value=="all")return f();d.value=await u("/posts").where({category:{$match:p.value},published:!0}).sort({pubDate:-1}).skip((c.value-1)*m).limit(m).find(),_.value=!1}),(w,y)=>{const B=S;return n(),r("div",W,[t("div",null,[t("h2",X,o(a(b).title),1),t("p",Y,o(a(b).subtitle),1)]),a(d).length?(n(),r("div",Z,[t("div",tt,[(n(!0),r(D,null,C(["all",...a(z)],(e,g)=>(n(),r("div",{key:g},[t("button",{class:E([a(p)==e?"bg-purple-700":"","capitalize rounded-md text-nowrap text-xs bg-purple-900 px-2 py-1.5 text-purple-100 hover:bg-purple-700"]),onClick:P=>p.value=e},o(e),11,et)]))),128))]),t("div",st,[x(T,{post:a(d)[0]},null,8,["post"])]),t("div",ot,[(n(!0),r(D,null,C(a(d).slice(1),(e,g)=>(n(),r("article",{class:"grid grid-col-1 sm:grid-cols-3 gap-2 sm:gap-8",key:g},[t("a",{href:e._path},[t("img",{src:e.featuredImage,alt:"post featured image",class:"h-80 w-full rounded-md object-cover"},null,8,at)],8,lt),t("div",it,[t("div",null,[t("div",nt,[t("button",{onClick:P=>p.value=e.category,class:"capitalize rounded-md text-nowrap text-xs bg-purple-900 px-2 py-1.5 text-purple-100 hover:bg-purple-900"},o(e.category),9,rt),t("time",{datetime:e.pubDate,class:"text-purple-400 text-nowrap"},o(new Date(e.pubDate).toDateString()),9,ct)]),t("a",{href:e._path},[t("h3",dt,o(e.title),1)],8,pt),t("p",ut,o(e.description),1)]),t("div",mt,[x(k,{post:e},null,8,["post"])])])]))),128))])])):N("",!0),t("div",_t,[x(B,{modelValue:a(c),"onUpdate:modelValue":y[0]||(y[0]=e=>A(c)?c.value=e:null),"page-count":m,total:a(V)},null,8,["modelValue","total"])])])}}});export{jt as default};
