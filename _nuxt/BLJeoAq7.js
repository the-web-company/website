import{_ as P}from"./CSa7ynIq.js";import{d as C,c as i,e as n,f as e,t as o,h as x,r as _,B as w,G as y,D as a,F as $,E as D,g as S,H as q,n as N}from"./B08so0q4.js";import{q as h}from"./DwIKUTWH.js";import{_ as k}from"./8Ry98r-l.js";import"./BMB7sip3.js";import"./BVjQxJkP.js";import"./CAZilBRX.js";import"./DlAUqK2U.js";import"./sk_k3Zsg.js";import"./DesDRf_X.js";const E={class:"flex flex-col-reverse justify-between sm:flex-row gap-2 sm:gap-8"},F={class:"flex flex-col justify-between sm:w-1/2"},H={class:"flex justify-between items-center gap-x-4 text-sm"},I={class:"capitalize rounded-md text-nowrap text-xs bg-purple-900 px-2 py-1.5 text-purple-100 hover:bg-purple-900"},U=["datetime"],A={class:"mt-4 text-lg font-semibold group-hover:text-purple-300"},G=["href"],L={class:"mt-2 text-sm text-purple-300 line-clamp-5"},O={class:"mt-5 flex border-t border-purple-600 pt-5"},R={class:"sm:w-1/2"},T=["href"],W=["src"],J=C({__name:"DlHighlight",props:{post:{type:Object,required:!0}},setup(s){return(l,p)=>(i(),n("article",E,[e("div",F,[e("div",null,[e("div",H,[e("button",I,o(s.post.category),1),e("time",{datetime:s.post.pubDate,class:"text-purple-300 text-nowrap"},o(new Date(s.post.pubDate).toDateString()),9,U)]),e("h3",A,[e("a",{href:s.post._path},o(s.post.title),9,G)]),e("p",L,o(s.post.description),1)]),e("div",O,[x(k,{post:s.post},null,8,["post"])])]),e("div",R,[e("a",{href:s.post._path},[e("img",{src:s.post.featuredImage,alt:"post featured image",class:"w-full rounded-md object-cover h-80"},null,8,W)],8,T)])]))}}),K={class:"max-w-screen-2xl mx-auto px-4 3xl:px-0 py-14"},M=e("div",null,[e("h2",{class:"text-3xl sm:text-4xl xl:text-5xl"},"TheWebCo blog"),e("p",{class:"mt-2 text-lg text-purple-400"},"Discover our latest articles, news, announcements, guides, tutorials, updates.")],-1),Q={key:0,class:"mt-4"},X={class:"flex gap-4"},Y=["onClick"],Z={class:"my-10 bg-purple-800 rounded-md p-2"},ee={class:"grid grid-cols-1 xl:grid-cols-2 gap-x-8 gap-y-10 sm:gap-y-20"},te=["href"],se=["src"],le={class:"sm:col-span-2 h-full max-h-80 flex flex-col justify-between space-y-5"},oe={class:"flex justify-between items-center gap-x-4 text-sm"},ae=["onClick"],ie=["datetime"],ne=["href"],re={class:"mt-4 text-lg font-semibold"},ce={class:"mt-2 text-sm text-purple-400 line-clamp-5"},pe={class:"flex border-t border-purple-700 pt-5"},ue={class:"flex justify-center mt-20"},d=10,ye=C({__name:"index",async setup(s){let l,p;const r=_(1),m=_(!1),c=_("all"),j=([l,p]=w(()=>h("/blog").count()),l=await l,p(),l),V=new Set(([l,p]=w(()=>h("/blog").where({published:!0}).find()),l=await l,p(),l).map(b=>b.category));let u=_([]);g(),y(r,()=>{g()});async function g(){m.value=!0,u.value=await h("/blog").where({published:!0}).sort({pubDate:-1}).skip((r.value-1)*d).limit(d).find(),m.value=!1}return y(c,async()=>{if(m.value=!0,c.value=="all")return g();u.value=await h("/blog").where({category:{$match:c.value},published:!0}).sort({pubDate:-1}).skip((r.value-1)*d).limit(d).find(),m.value=!1}),(b,v)=>{const z=P;return i(),n("div",K,[M,a(u).length?(i(),n("div",Q,[e("div",X,[(i(!0),n($,null,D(["all",...a(V)],(t,f)=>(i(),n("div",{key:f},[e("button",{class:N([a(c)==t?"bg-purple-700":"","capitalize rounded-md text-nowrap text-xs bg-purple-900 px-2 py-1.5 text-purple-100 hover:bg-purple-700"]),onClick:B=>c.value=t},o(t),11,Y)]))),128))]),e("div",Z,[x(J,{post:a(u)[0]},null,8,["post"])]),e("div",ee,[(i(!0),n($,null,D(a(u).slice(1),(t,f)=>(i(),n("article",{class:"grid grid-col-1 sm:grid-cols-3 gap-2 sm:gap-8",key:f},[e("a",{href:t._path},[e("img",{src:t.featuredImage,alt:"post featured image",class:"h-80 w-full rounded-md object-cover"},null,8,se)],8,te),e("div",le,[e("div",null,[e("div",oe,[e("button",{onClick:B=>c.value=t.category,class:"capitalize rounded-md text-nowrap text-xs bg-purple-900 px-2 py-1.5 text-purple-100 hover:bg-purple-900"},o(t.category),9,ae),e("time",{datetime:t.pubDate,class:"text-purple-400 text-nowrap"},o(new Date(t.pubDate).toDateString()),9,ie)]),e("a",{href:t._path},[e("h3",re,o(t.title),1)],8,ne),e("p",ce,o(t.description),1)]),e("div",pe,[x(k,{post:t},null,8,["post"])])])]))),128))])])):S("",!0),e("div",ue,[x(z,{modelValue:a(r),"onUpdate:modelValue":v[0]||(v[0]=t=>q(r)?r.value=t:null),"page-count":d,total:a(j)},null,8,["modelValue","total"])])])}}});export{ye as default};
